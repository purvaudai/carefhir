(this.webpackJsonpcarefhir=this.webpackJsonpcarefhir||[]).push([[0],{205:function(e,t,a){e.exports=a(426)},210:function(e,t,a){},403:function(e,t,a){},420:function(e,t,a){},421:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c);a(210),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(59),l=a(10),u=a(11),s=a(5),m=(a(403),a(40)),d=a.n(m),p=function(e){return Object.keys(e).reduce((function(t,a){if(e[a]&&""!==e[a])if(Array.isArray(e[a])){if(e[a].length>0){var n=JSON.stringify(e[a]);t.push("".concat(a,"=").concat(encodeURI(n)))}}else t.push("".concat(a,"=").concat(encodeURI(e[a])));return t}),[]).join("&")},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var n=p(a);return d.a.get("".concat(e,"/Patient?").concat(n),{headers:t})}},h=(a(420),a(421),function(e){var t=e.text,a=e.icon;return r.a.createElement(s.e,{shadow:"dark",style:{width:"400px",height:"80px",margin:"auto"}},r.a.createElement("div",{className:"Info-wrapper"},r.a.createElement("div",{className:"Info-wrapper-icon"},r.a.createElement(s.i,{name:a,type:"filled"})),r.a.createElement("div",{className:"Info-wrapper-heading"},r.a.createElement(s.h,{size:"l"},t))))}),v=function(e){var t=e.data,a=void 0===t?{}:t,n=e.onClick;return r.a.createElement("div",{className:"PatientList"},a.entry&&0===a.entry.length?r.a.createElement(h,{text:"No data found",icon:"error"}):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return r.a.createElement("div",{className:"PatientList-itemWrapper",key:t,onClick:function(t){return n(t,e.resource.id)}},r.a.createElement("div",{className:"PatientList-item-heading"},r.a.createElement(s.a,{appearance:"primary"},"".concat(e.resource.name[0].given[0].charAt(0)).concat(e.resource.name[0].family.charAt(0))),r.a.createElement(s.h,{size:"m"},"".concat(e.resource.name[0].given[0],", ").concat(e.resource.name[0].family)),r.a.createElement(s.b,{appearance:"secondary"},e.resource.id)),r.a.createElement("div",{className:"PatientList-item-info"},r.a.createElement(s.r,{appearance:"default"},"DOB: "),r.a.createElement(s.r,{appearance:"subtle"},e.resource.birthDate),r.a.createElement(s.r,{appearance:"default"},"Gender: "),r.a.createElement(s.r,{appearance:"subtle"},e.resource.gender)))}))}(a.entry))},g=function(){var e=Object(l.f)(),t=function(){var e=localStorage.getItem("fhirServer");return e||""},a=function(){var e=localStorage.getItem("serverHeaders");return e||"{}"},c=Object(n.useState)(t()),i=Object(u.a)(c,2),o=i[0],m=i[1],d=Object(n.useState)(a()),p=Object(u.a)(d,2),g=p[0],E=p[1],b=Object(n.useState)(!1),y=Object(u.a)(b,2),S=y[0],N=y[1],O=Object(n.useState)(!t()),j=Object(u.a)(O,2),w=j[0],I=j[1],x=Object(n.useState)(""),P=Object(u.a)(x,2),A=P[0],C=P[1],k=Object(n.useState)(""),z=Object(u.a)(k,2),D=z[0],H=z[1],T=Object(n.useState)([]),J=Object(u.a)(T,2),M=J[0],R=J[1],L=Object(n.useState)(!1),B=Object(u.a)(L,2),F=B[0],U=B[1],G=Object(n.useState)(""),W=Object(u.a)(G,2),Y=W[0],q=W[1],V=function(){if(!t())return null;I(!1),m(t())},_={open:w,onClose:V,backdrop:!1,dimension:"small"},Q={onClose:V,icon:"pan_tool",heading:"FHIR Server",subHeading:"FHIR Server address"},X=function(e){m(e)};Object(n.useEffect)((function(){m(t()),E(a()),t()&&f(o,JSON.parse(g))({name:A,gender:D}).then((function(e){R(e.data)})).catch((function(e){console.log(e),U(!0),q("Something went wrong")}))}),[localStorage.getItem("fhirServer"),w]);var $=function(e){C(e)},K=function(t,a){e.push("/patients/".concat(a))};return r.a.createElement("div",{className:"Home"},r.a.createElement(s.l,_,r.a.createElement(s.o,Q),r.a.createElement(s.m,null,r.a.createElement(s.k,{style:{margin:"0px 0 4px"}},"Address"),r.a.createElement(s.j,{clearButton:!0,value:o,name:"input",placeholder:"Search",onChange:function(e){return X(e.target.value)},onClear:function(){return X("")}}),r.a.createElement(s.k,{style:{margin:"8px 0 4px"}},"Headers"),r.a.createElement(s.t,{name:"Textarea",placeholder:"Headers",rows:5,onChange:function(e){return function(e){try{JSON.parse(e),N(!1),E(e)}catch(t){N(!0),E(e)}}(e.target.value)},defaultValue:g,error:S})),r.a.createElement(s.n,null,r.a.createElement(s.d,{appearance:"primary",onClick:function(){return localStorage.setItem("fhirServer",o),localStorage.setItem("serverHeaders",g),I(!1),void R([])},disabled:!o||S},"Submit"))),r.a.createElement("div",{className:"PageHeader-wrapper"},r.a.createElement("div",{className:"PageHeader"},r.a.createElement(s.h,{size:"m"},"Patients"),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(s.d,{appearance:"primary",onClick:function(){return I(!0)}},"Change Server")))),r.a.createElement("div",{className:"Search-wrapper"},r.a.createElement(s.j,{clearButton:!0,value:A,icon:"search",name:"input",placeholder:"Search",onChange:function(e){return $(e.target.value)},onClear:function(){return $("")}}),r.a.createElement("div",{style:{width:"150px"}},r.a.createElement(s.g,{options:[{label:"Male",value:"male"},{label:"Female",value:"female"}],placeholder:"Gender",onChange:function(e,t){H(e)}})),r.a.createElement(s.d,{appearance:"primary",onClick:function(){f(o,JSON.parse(g))({name:A,gender:D}).then((function(e){R(e.data)})).catch((function(e){console.log(e),U(!0),q("Something went wrong")}))}},"Search")),F?r.a.createElement(h,{text:Y,icon:"error"}):M&&M.entry&&M.entry.length>0?r.a.createElement("div",{style:{height:"calc(100vh - 112px",overflowY:"scroll"}},r.a.createElement(v,{data:M,onClick:K})):void 0)},E=(a(424),a(425),{size:"6",sizeXL:"6",sizeM:"6"}),b=function(e){var t=e.data,a=void 0===t?{}:t;return r.a.createElement(s.e,{shadow:"dark",style:{width:"600px",padding:"16px",backgroundColor:"white"}},r.a.createElement("div",{className:"PatientInfo-heading"},r.a.createElement(s.a,{appearance:"primary"},"".concat(a.name[0].given[0].charAt(0)).concat(a.name[0].family.charAt(0))),r.a.createElement(s.h,{size:"m"},"".concat(a.name[0].given[0],", ").concat(a.name[0].family)),r.a.createElement(s.b,{appearance:"secondary"},a.id)),r.a.createElement("div",{className:"PatientInfo-body"},r.a.createElement(s.q,null,r.a.createElement(s.f,E,r.a.createElement("div",{className:"PatientInfo-item"},r.a.createElement(s.r,{appearance:"default"},"DOB: "),r.a.createElement(s.r,{appearance:"subtle"},a.birthDate))),r.a.createElement(s.f,E,r.a.createElement("div",{className:"PatientInfo-item"},r.a.createElement(s.r,{appearance:"default"},"Gender: "),r.a.createElement(s.r,{appearance:"subtle"},a.gender)))),r.a.createElement(s.q,null,r.a.createElement(s.f,E,r.a.createElement("div",{className:"PatientInfo-item"},r.a.createElement(s.r,{appearance:"default"},"Marital Status: "),r.a.createElement(s.r,{appearance:"subtle"},a.maritalStatus?a.maritalStatus.text:"N/A"))),r.a.createElement(s.f,E,r.a.createElement("div",{className:"PatientInfo-item"},r.a.createElement(s.r,{appearance:"default"},"Contact: "),r.a.createElement(s.r,{appearance:"subtle"},a.telecom?a.telecom[0].value:"N/A"))))))},y=function(e){var t=e.code,a=t?t.coding:"N/A",n=Array.isArray(a)&&a.length>0?a[0].display:"N/A";return n||"N/A"},S=function(e){var t,a=e.issued;return function(e){var t=new Date(e);return t.getTime()===t.getTime()}(a)?(a=new Date(a),"".concat((t=a).getMonth()+1,"-").concat(t.getDay(),"-").concat(t.getFullYear())):"N/A"},N=function(e){var t=e.valueQuantity,a=t&&t.value?t.value:"",n=t&&t.unit?t.unit:"",r=(a=a.toString()).split(".");return(a=a.length>4&&r.length>0?"".concat(r[0],".").concat(r[1].slice(0,2)):a)&&n?"".concat(a,"  ").concat(n):"N/A"},O=function(e){var t=e.interpretation;if(t){if(t.length>0){var a=t[0].coding;if(a){var n=a.length>0?a[0].display:"";return n=n[0].toUpperCase()+n.slice(1)}return""}return""}return""},j=[{name:"condition",displayName:"Condition",width:150,resizable:!0},{name:"value",displayName:"Value",width:150,resizable:!0},{cellType:"STATUS_HINT",name:"interpretation",displayName:"Interpretation",width:150,resizable:!0},{name:"issued",displayName:"Issued Date",width:150,resizable:!0}],w=function(e){var t=e.data,a=function(e){return e.toLowerCase().includes("normal")&&e.length>0?{statusAppearance:"success",title:e}:0===e.length?{statusAppearance:"default",title:"-"}:{statusAppearance:"alert",title:e}},n=function(e){var t=[];return e.forEach((function(e){var n=y(e),r=N(e),c=O(e),i=function(e){var t=[];return e.component&&e.component.length>0&&e.component.forEach((function(e){var a=N(e),n=[y(e),a,O(e)];t.push(n)})),t}(e),o=S(e);i.length>0?i.forEach((function(e){var n=Object(u.a)(e,3),r=n[0],c=n[1],i=n[2];"N/A"!==c&&t.push({value:c,condition:r,interpretation:a(i),issued:o})})):"N/A"!==r&&t.push({condition:n,value:r,interpretation:a(c),issued:o})})),t}(void 0===t?[]:t);return 0===n.length?r.a.createElement(h,{text:"No data found",icon:"error"}):r.a.createElement(s.s,{data:n,schema:j,withPagination:!0,pageSize:"9",showMenu:!0})},I=[{name:"orgRef",displayName:"Facility Name",width:150,resizable:!0},{name:"locationType",displayName:"Location Type",width:150,resizable:!0},{name:"providerRef",displayName:"Provider",width:150,resizable:!0},{name:"startDate",displayName:"Start Date",width:150,resizable:!0}],x=function(e){var t=e.data,a=(void 0===t?[]:t).map((function(e){return function(e){var t=e.type&&e.type.length>0?e.type[0]:"-",a=t&&t.text?t.text:"-",n=e.period?e.period.start:"-",r="-"===n?"-":new Date(n),c="-"===r?"-":"".concat(r.getMonth()+1,"-").concat(r.getDay(),"-").concat(r.getFullYear()),i=e.participant&&e.participant.length>0?e.participant[0]:"-",o=i&&i.individual?i.individual.reference:"",l=e.serviceProvider?e.serviceProvider.reference:"";return{startDate:c,providerRef:o=""===o?"-":o.split("/")[1],orgRef:l=""===l?"-":l.split("/")[1],locationType:a}}(e)}));return 0===a.length?r.a.createElement(h,{text:"No data found",icon:"error"}):r.a.createElement(s.s,{data:a,schema:I,withPagination:!0,pageSize:"9",showMenu:!0})},P=function(){var e=Object(l.f)(),t=Object(l.g)().id,a=function(){var e=localStorage.getItem("fhirServer");return e||""},c=function(){var e=localStorage.getItem("serverHeaders");return e||"{}"},i=Object(n.useState)(a()),o=Object(u.a)(i,2),m=o[0],p=o[1],f=Object(n.useState)(c()),v=Object(u.a)(f,2),g=v[0],E=v[1],y=Object(n.useState)(null),S=Object(u.a)(y,2),N=S[0],O=S[1],j=Object(n.useState)(null),I=Object(u.a)(j,2),P=I[0],A=I[1],C=Object(n.useState)(null),k=Object(u.a)(C,2),z=k[0],D=k[1],H=Object(n.useState)(!1),T=Object(u.a)(H,2),J=T[0],M=T[1];console.log(t),Object(n.useEffect)((function(){p(a()),E(c()),a()?(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return d.a.get("".concat(e,"/Patient/").concat(a),{headers:t})}}(m,JSON.parse(g))(t).then((function(e){O(e.data)})).catch((function(e){console.log(e),M(!0)})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return d.a.get("".concat(e,"/Observation?subject=Patient/").concat(a),{headers:t})}}(m,JSON.parse(g))(t).then((function(e){var t=e.data&&e.data.entry?e.data.entry.map((function(e){return e.resource})):[];A(t)})).catch((function(e){console.log(e),M(!0)})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){return d.a.get("".concat(e,"/Encounter?subject=Patient/").concat(a),{headers:t})}}(m,JSON.parse(g))(t).then((function(e){var t=e.data&&e.data.entry?e.data.entry.map((function(e){return e.resource})):[];D(t)})).catch((function(e){console.log(e),M(!0)}))):e.push("/")}),[localStorage.getItem("fhirServer")]);var R={title:"Patient Summary",breadcrumb:r.a.createElement(s.c,{list:[{label:"Home",link:"/"}],onClick:function(t){return e.push(t)}})};return J?r.a.createElement(h,{text:"Something went wrong",icon:"error"}):r.a.createElement("div",{className:"Summary"},r.a.createElement(s.p,R),r.a.createElement("div",{className:"Summary-body"},N&&r.a.createElement(b,{data:N}),P&&r.a.createElement("div",{className:"Summary-table"},r.a.createElement(s.r,null,"Observations"),r.a.createElement(w,{data:P})),z&&r.a.createElement("div",{className:"Summary-table"},r.a.createElement(s.r,null,"Encounters"),r.a.createElement(x,{data:z}))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{basename:"/carefhir"},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(g,null)),r.a.createElement(l.a,{path:"/patients/:id",exact:!0},r.a.createElement(P,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.903e1924.chunk.js.map